(()=>{"use strict";var e,t={103:()=>{const e=window.wp.blocks,t=window.wp.blockEditor,s=window.wp.element,l=window.wp.components,n=window.wp.i18n;function a(e){if(!e||!/^#?[0-9a-fA-F]{6}$/.test(e))return;const t=e.replace("#","");return(.299*parseInt(t.substr(0,2),16)+.587*parseInt(t.substr(2,2),16)+.114*parseInt(t.substr(4,2),16))/255>.5?"#000000":"#ffffff"}const o=window.ReactJSXRuntime,i=JSON.parse('{"UU":"tomatillo-design/simple-collapse","uK":{"panelTitle":{"type":"string"},"defaultOpen":{"type":"boolean","default":false},"backgroundColor":{"type":"string","default":"#222222"},"panelId":{"type":"string"}}}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i,clientId:r}){const{panelTitle:c,defaultOpen:d,backgroundColor:p,panelId:u}=e,g=(0,s.useRef)(null),[h,m]=(0,s.useState)(null);(0,s.useEffect)((()=>{null===h&&m(d)}),[d,h]),(0,s.useEffect)((()=>{u||i({panelId:`tdsc-${r}`})}),[u,r,i]),(0,s.useEffect)((()=>{g.current&&g.current.focus()}),[]);const f=`${u}-heading`,x=`${u}-content`;return(0,o.jsxs)("div",{...(0,t.useBlockProps)({className:"tdsc-collapse"+(h?" is-open":"")}),children:[(0,o.jsx)(t.InspectorControls,{children:(0,o.jsx)(t.PanelColorSettings,{title:(0,n.__)("Color Settings","tomatillo-design-simple-collapse"),initialOpen:!0,colorSettings:[{value:p,onChange:e=>i({backgroundColor:e}),label:(0,n.__)("Panel Header Background","tomatillo-design-simple-collapse")}],enableCustomGradients:!0,enableGradients:!0,children:(0,o.jsx)(l.PanelBody,{title:(0,n.__)("Panel Settings","tomatillo-design-simple-collapse"),initialOpen:!0,children:(0,o.jsx)(l.ToggleControl,{label:(0,n.__)("Open by default?","tomatillo-design-simple-collapse"),checked:d,onChange:e=>i({defaultOpen:e})})})})}),(0,o.jsxs)("div",{role:"button",id:f,className:"tdsc-collapse__toggle",style:{backgroundColor:p,color:a(p),cursor:"pointer"},"aria-expanded":!!h,"aria-controls":x,onClick:()=>m((e=>!e)),children:[(0,o.jsx)(t.RichText,{tagName:"span",ref:g,value:c,onChange:e=>i({panelTitle:e}),placeholder:(0,n.__)("Click to add panel titleâ€¦","tomatillo-design-simple-collapse"),className:"tdsc-collapse__title",allowedFormats:[],style:{flexGrow:1}}),(0,o.jsx)("span",{className:"dashicons dashicons-arrow-down-alt2 tdsc-chevron"+(h?" is-open":""),style:{marginLeft:"0.75em"},"aria-hidden":"true"})]}),(0,o.jsx)("div",{id:x,role:"region",className:"tdsc-collapse__content","aria-labelledby":f,children:(0,o.jsx)("div",{className:"tdsc-collapse__inner",children:(0,o.jsx)(t.InnerBlocks,{})})})]})},save:function({attributes:e}){const{panelTitle:s,defaultOpen:l,backgroundColor:n,panelId:i}=e,r=`${i}-heading`,c=`${i}-content`;return(0,o.jsxs)("div",{...t.useBlockProps.save({className:"tdsc-collapse"+(l?" is-open":"")}),children:[(0,o.jsxs)("button",{type:"button",className:"tdsc-collapse__toggle","aria-expanded":l,"aria-controls":c,id:r,style:{backgroundColor:n,color:a(n)},children:[(0,o.jsx)("span",{className:"tdsc-collapse__title",children:(0,o.jsx)(t.RichText.Content,{value:s})}),(0,o.jsx)("span",{className:"dashicons dashicons-arrow-down-alt2 tdsc-chevron","aria-hidden":"true"})]}),(0,o.jsx)("div",{id:c,role:"region",className:"tdsc-collapse__content","aria-labelledby":r,style:{maxHeight:l?"1000px":void 0},children:(0,o.jsx)("div",{className:"tdsc-collapse__inner",children:(0,o.jsx)(t.InnerBlocks.Content,{})})})]})},attributes:i.uK}),window.addEventListener("load",(function(){document.body.classList.contains("block-editor-page")||document.querySelectorAll(".tdsc-collapse").forEach((e=>{const t=e.querySelector(".tdsc-collapse__toggle"),s=e.querySelector(".tdsc-collapse__content");t&&s&&(e.classList.contains("is-open")&&(s.style.maxHeight=s.scrollHeight+"px"),t.addEventListener("click",(()=>{const l=e.classList.contains("is-open"),n=s.scrollHeight,a=Math.min(Math.max(n,200),1e3);s.style.transition=`max-height ${a}ms ease`,l?(s.style.maxHeight=n+"px",requestAnimationFrame((()=>{s.style.maxHeight="0px"})),t.setAttribute("aria-expanded","false"),e.classList.remove("is-open")):(s.style.maxHeight=n+"px",t.setAttribute("aria-expanded","true"),e.classList.add("is-open"))})))}))}))}},s={};function l(e){var n=s[e];if(void 0!==n)return n.exports;var a=s[e]={exports:{}};return t[e](a,a.exports,l),a.exports}l.m=t,e=[],l.O=(t,s,n,a)=>{if(!s){var o=1/0;for(d=0;d<e.length;d++){for(var[s,n,a]=e[d],i=!0,r=0;r<s.length;r++)(!1&a||o>=a)&&Object.keys(l.O).every((e=>l.O[e](s[r])))?s.splice(r--,1):(i=!1,a<o&&(o=a));if(i){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[s,n,a]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,s)=>{var n,a,[o,i,r]=s,c=0;if(o.some((t=>0!==e[t]))){for(n in i)l.o(i,n)&&(l.m[n]=i[n]);if(r)var d=r(l)}for(t&&t(s);c<o.length;c++)a=o[c],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(d)},s=globalThis.webpackChunktomatillo_design_simple_collapse=globalThis.webpackChunktomatillo_design_simple_collapse||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=l.O(void 0,[350],(()=>l(103)));n=l.O(n)})();