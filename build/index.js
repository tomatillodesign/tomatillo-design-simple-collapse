(()=>{"use strict";var e,t={825:()=>{const e=window.wp.blocks,t=window.React,o=window.wp.blockEditor,l=window.wp.element,a=window.wp.components,n=window.wp.i18n;function i(e,t=!1){const o={chevron:"dashicons-arrow-down-alt2",arrow:"dashicons-arrow-down",plus:"dashicons-plus-alt2",minus:"dashicons-minus"};return`dashicons ${o[e]||o.chevron} tdsc-chevron${t?" is-open":""}`}function s(e){return`tdsc-icon-animation-${e}`}const r=JSON.parse('{"UU":"tomatillo-design/simple-collapse","uK":{"panelTitle":{"type":"string"},"defaultOpen":{"type":"boolean","default":false},"backgroundColor":{"type":"string","default":"var(--wp--preset--color--primary, #222222)"},"panelId":{"type":"string"},"textColor":{"type":"string","default":"#ffffff"},"iconType":{"type":"string","default":"chevron"},"iconAnimation":{"type":"string","default":"rotate"},"animationSpeed":{"type":"string","default":"normal"},"fontSize":{"type":"string"},"fontWeight":{"type":"string","default":"700"},"lineHeight":{"type":"string"},"borderRadius":{"type":"string","default":"0"},"borderWidth":{"type":"string","default":"0"},"borderColor":{"type":"string"},"headerPadding":{"type":"object","default":{"top":"0.75em","right":"1em","bottom":"0.75em","left":"1em"}},"contentPadding":{"type":"object","default":{"top":"1em","right":"1em","bottom":"1em","left":"1em"}},"hoverBackgroundColor":{"type":"string"},"hoverTextColor":{"type":"string"},"activeBackgroundColor":{"type":"string"},"activeTextColor":{"type":"string"},"customClassName":{"type":"string"},"enableHashLink":{"type":"boolean","default":true},"focusOnOpen":{"type":"boolean","default":false},"schemaType":{"type":"string","default":"none"},"enableAnalytics":{"type":"boolean","default":false}}}');function c(e,t){let o=document.getElementById("tdsc-live-region");o||(o=document.createElement("div"),o.id="tdsc-live-region",o.className="tdsc-live-region",o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","true"),document.body.appendChild(o));const l=e.querySelector(".tdsc-collapse__toggle"),a=l?l.textContent.trim():"Panel",n=t?`${a} expanded`:`${a} collapsed`;o.textContent=n}function d(e,t){const o=e.id||e.getAttribute("data-panel-id");o&&"undefined"!=typeof tdscAjax&&(window.tdscPanelStates&&(window.tdscPanelStates[o]=t),tdscAjax.postId&&tdscAjax.nonce&&fetch(tdscAjax.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"tdsc_save_panel_state",nonce:tdscAjax.nonce,post_id:tdscAjax.postId,panel_id:o,is_open:t?"1":"0"})}).catch((()=>{})))}function p(e,t){if("true"!==e.getAttribute("data-enable-analytics"))return;const o=e.id||e.getAttribute("data-panel-id")||"unknown",l=new CustomEvent("tdsc:panel-toggle",{detail:{panelId:o,action:t,timestamp:Date.now()},bubbles:!0});document.dispatchEvent(l),"undefined"!=typeof gtag&&gtag("event","collapse_panel_"+t,{panel_id:o})}function m(e,t,o,l=!1){try{const a=e.classList.contains("is-open"),n=o.scrollHeight,i=function(e,t){if(window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)return 0;const o={slow:600,normal:300,fast:150},l=o[e.getAttribute("data-animation-speed")||"normal"]||o.normal;if(t>0){const e=Math.min(Math.max(t,200),1e3);return Math.min(e,2*l)}return l}(e,n);if(a)o.style.transition=i>0?`max-height ${i}ms ease`:"none",o.style.maxHeight=n+"px",0===i?o.style.maxHeight="0px":requestAnimationFrame((()=>{o.style.maxHeight="0px"})),t.setAttribute("aria-expanded","false"),e.classList.remove("is-open"),c(e,!1),p(e,"close"),d(e,!1);else if(o.style.transition=i>0?`max-height ${i}ms ease`:"none",o.style.maxHeight=n+"px",t.setAttribute("aria-expanded","true"),e.classList.add("is-open"),c(e,!0),p(e,"open"),d(e,!0),l&&o){const e=o.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e&&setTimeout((()=>e.focus()),i+50)}}catch(e){console.error("Error toggling collapse panel:",e)}}function g(){const e=window.location.hash.substring(1);e&&function(e){if(!e)return;const t=document.querySelector(`[id="${e}"], [data-panel-id="${e}"]`);if(!t)return;const o=t.querySelector(".tdsc-collapse__toggle"),l=t.querySelector(".tdsc-collapse__content");if(o&&l&&!t.classList.contains("is-open")){const e="true"===t.getAttribute("data-focus-on-open");m(t,o,l,e),setTimeout((()=>{const e=t.getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop;window.scrollTo({top:e.top+o-100,behavior:"smooth"})}),100)}}(e)}function u(e){const t=e.querySelector(".tdsc-collapse__toggle"),o=e.querySelector(".tdsc-collapse__content");if(!t||!o)return;const l=t.id||e.getAttribute("data-panel-id");let a=e.classList.contains("is-open");window.tdscPanelStates&&l&&void 0!==window.tdscPanelStates[l]&&(a=window.tdscPanelStates[l],a&&!e.classList.contains("is-open")?(e.classList.add("is-open"),t.setAttribute("aria-expanded","true")):!a&&e.classList.contains("is-open")&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded","false"))),a&&(o.style.maxHeight=o.scrollHeight+"px");const n="true"===e.getAttribute("data-focus-on-open"),i="false"!==e.getAttribute("data-enable-hash-link");if(i&&!e.id){const o=t.id||e.getAttribute("data-panel-id");o&&(e.id=o.replace("-heading",""))}t.addEventListener("click",(()=>{m(e,t,o,n),i&&e.id&&(e.classList.contains("is-open")?window.history.pushState(null,"",`#${e.id}`):window.location.hash===`#${e.id}`&&window.history.pushState(null,"",window.location.pathname+window.location.search))})),t.addEventListener("keydown",(l=>{"Enter"!==l.key&&" "!==l.key||(l.preventDefault(),m(e,t,o,n))}))}(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r,clientId:c}){const{panelTitle:d,defaultOpen:p=!1,backgroundColor:m,panelId:g,textColor:u,iconType:h="chevron",iconAnimation:b="rotate",animationSpeed:f="normal",fontSize:v,fontWeight:_="700",lineHeight:y,borderRadius:C="0",borderWidth:w="0",borderColor:x,headerPadding:E,contentPadding:S,hoverBackgroundColor:T,hoverTextColor:k,activeBackgroundColor:A,activeTextColor:O,customClassName:B,enableHashLink:P=!0,focusOnOpen:L=!1,schemaType:H="none",enableAnalytics:N=!1}=e,$=(0,l.useRef)(null),[I,R]=(0,l.useState)(null);(0,l.useEffect)((()=>{null===I&&R(p)}),[p,I]),(0,l.useEffect)((()=>{g||r({panelId:`tdsc-${c}`})}),[g,c,r]),(0,l.useEffect)((()=>{$.current&&$.current.focus()}),[]);const W=`${g}-heading`,j=`${g}-content`,q=(0,o.useBlockProps)({className:`tdsc-collapse${I?" is-open":""}${B?` ${B}`:""} ${s(b)}`}),F={backgroundColor:m||"var(--wp--preset--color--primary, #222222)",color:u||"#ffffff",fontSize:v||void 0,fontWeight:_||void 0,lineHeight:y||void 0,borderRadius:"0"!==C?C:void 0,borderWidth:"0"!==w?w:void 0,borderColor:x||void 0,borderStyle:"0"!==w?"solid":void 0,paddingTop:E?.top||void 0,paddingRight:E?.right||void 0,paddingBottom:E?.bottom||void 0,paddingLeft:E?.left||void 0,cursor:"pointer"},M=i(h,I);return(0,t.createElement)("div",{...q},(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:(0,n.__)("Color Settings","tomatillo-design-simple-collapse"),initialOpen:!1},(0,t.createElement)(o.PanelColorSettings,{colorSettings:[{value:m,onChange:e=>r({backgroundColor:e}),label:(0,n.__)("Panel Header Background","tomatillo-design-simple-collapse")},{value:u,onChange:e=>r({textColor:e}),label:(0,n.__)("Text Color","tomatillo-design-simple-collapse")},{value:T,onChange:e=>r({hoverBackgroundColor:e}),label:(0,n.__)("Hover Background","tomatillo-design-simple-collapse")},{value:k,onChange:e=>r({hoverTextColor:e}),label:(0,n.__)("Hover Text Color","tomatillo-design-simple-collapse")},{value:A,onChange:e=>r({activeBackgroundColor:e}),label:(0,n.__)("Active Background","tomatillo-design-simple-collapse")},{value:O,onChange:e=>r({activeTextColor:e}),label:(0,n.__)("Active Text Color","tomatillo-design-simple-collapse")}],enableCustomGradients:!0,enableGradients:!0})),(0,t.createElement)(a.PanelBody,{title:(0,n.__)("Panel Settings","tomatillo-design-simple-collapse"),initialOpen:!0},(0,t.createElement)(a.ToggleControl,{label:(0,n.__)("Open by default?","tomatillo-design-simple-collapse"),checked:p,onChange:e=>r({defaultOpen:e})}),(0,t.createElement)(a.TextControl,{label:(0,n.__)("Custom CSS Class","tomatillo-design-simple-collapse"),value:B||"",onChange:e=>r({customClassName:e}),help:(0,n.__)("Add a custom CSS class for styling","tomatillo-design-simple-collapse")})),(0,t.createElement)(a.PanelBody,{title:(0,n.__)("Icon Settings","tomatillo-design-simple-collapse"),initialOpen:!1},(0,t.createElement)(a.SelectControl,{label:(0,n.__)("Icon Type","tomatillo-design-simple-collapse"),value:h,options:[{label:(0,n.__)("Chevron","tomatillo-design-simple-collapse"),value:"chevron"},{label:(0,n.__)("Arrow","tomatillo-design-simple-collapse"),value:"arrow"},{label:(0,n.__)("Plus/Minus","tomatillo-design-simple-collapse"),value:"plus"}],onChange:e=>r({iconType:e})}),(0,t.createElement)(a.SelectControl,{label:(0,n.__)("Icon Animation","tomatillo-design-simple-collapse"),value:b,options:[{label:(0,n.__)("Rotate","tomatillo-design-simple-collapse"),value:"rotate"},{label:(0,n.__)("Flip","tomatillo-design-simple-collapse"),value:"flip"},{label:(0,n.__)("Fade","tomatillo-design-simple-collapse"),value:"fade"},{label:(0,n.__)("None","tomatillo-design-simple-collapse"),value:"none"}],onChange:e=>r({iconAnimation:e})})),(0,t.createElement)(a.PanelBody,{title:(0,n.__)("Typography","tomatillo-design-simple-collapse"),initialOpen:!1},(0,t.createElement)(a.SelectControl,{label:(0,n.__)("Font Weight","tomatillo-design-simple-collapse"),value:_,options:[{label:(0,n.__)("Normal","tomatillo-design-simple-collapse"),value:"400"},{label:(0,n.__)("Medium","tomatillo-design-simple-collapse"),value:"500"},{label:(0,n.__)("Semi Bold","tomatillo-design-simple-collapse"),value:"600"},{label:(0,n.__)("Bold","tomatillo-design-simple-collapse"),value:"700"}],onChange:e=>r({fontWeight:e})})),(0,t.createElement)(a.PanelBody,{title:(0,n.__)("Border & Spacing","tomatillo-design-simple-collapse"),initialOpen:!1},(0,t.createElement)(a.TextControl,{label:(0,n.__)("Border Radius","tomatillo-design-simple-collapse"),value:C,onChange:e=>r({borderRadius:e}),help:(0,n.__)("e.g., 4px, 0.5em","tomatillo-design-simple-collapse")}),(0,t.createElement)(a.TextControl,{label:(0,n.__)("Border Width","tomatillo-design-simple-collapse"),value:w,onChange:e=>r({borderWidth:e}),help:(0,n.__)("e.g., 1px, 2px","tomatillo-design-simple-collapse")}),(0,t.createElement)(o.PanelColorSettings,{title:(0,n.__)("Border Color","tomatillo-design-simple-collapse"),colorSettings:[{value:x,onChange:e=>r({borderColor:e}),label:(0,n.__)("Border Color","tomatillo-design-simple-collapse")}]})),(0,t.createElement)(a.PanelBody,{title:(0,n.__)("Animation","tomatillo-design-simple-collapse"),initialOpen:!1},(0,t.createElement)(a.SelectControl,{label:(0,n.__)("Animation Speed","tomatillo-design-simple-collapse"),value:f,options:[{label:(0,n.__)("Slow","tomatillo-design-simple-collapse"),value:"slow"},{label:(0,n.__)("Normal","tomatillo-design-simple-collapse"),value:"normal"},{label:(0,n.__)("Fast","tomatillo-design-simple-collapse"),value:"fast"}],onChange:e=>r({animationSpeed:e})})),(0,t.createElement)(a.PanelBody,{title:(0,n.__)("Advanced","tomatillo-design-simple-collapse"),initialOpen:!1},(0,t.createElement)(a.ToggleControl,{label:(0,n.__)("Enable URL Hash Links","tomatillo-design-simple-collapse"),checked:P,onChange:e=>r({enableHashLink:e}),help:(0,n.__)("Allow opening panels via URL hash (#panel-id)","tomatillo-design-simple-collapse")}),(0,t.createElement)(a.ToggleControl,{label:(0,n.__)("Focus Content on Open","tomatillo-design-simple-collapse"),checked:L,onChange:e=>r({focusOnOpen:e}),help:(0,n.__)("Move focus to content when panel opens","tomatillo-design-simple-collapse")}),(0,t.createElement)(a.SelectControl,{label:(0,n.__)("Schema.org Type","tomatillo-design-simple-collapse"),value:H,options:[{label:(0,n.__)("None","tomatillo-design-simple-collapse"),value:"none"},{label:(0,n.__)("FAQ","tomatillo-design-simple-collapse"),value:"faq"},{label:(0,n.__)("HowTo","tomatillo-design-simple-collapse"),value:"howto"}],onChange:e=>r({schemaType:e}),help:(0,n.__)("Add structured data for SEO","tomatillo-design-simple-collapse")}),(0,t.createElement)(a.ToggleControl,{label:(0,n.__)("Enable Analytics Tracking","tomatillo-design-simple-collapse"),checked:N,onChange:e=>r({enableAnalytics:e}),help:(0,n.__)("Track panel open/close events","tomatillo-design-simple-collapse")}))),(0,t.createElement)("div",{role:"button",id:W,className:"tdsc-collapse__toggle",style:F,"aria-expanded":!!I,"aria-controls":j,onClick:()=>R((e=>!e))},(0,t.createElement)(o.RichText,{tagName:"span",ref:$,value:d,onChange:e=>r({panelTitle:e}),placeholder:(0,n.__)("Click to add panel titleâ€¦","tomatillo-design-simple-collapse"),className:"tdsc-collapse__title",allowedFormats:[],style:{flexGrow:1}}),(0,t.createElement)("span",{className:M,style:{marginLeft:"0.75em"},"aria-hidden":"true"})),(0,t.createElement)("div",{id:j,role:"region",className:"tdsc-collapse__content","aria-labelledby":W},(0,t.createElement)("div",{className:"tdsc-collapse__inner"},(0,t.createElement)(o.InnerBlocks,null))))},save:function({attributes:e}){const{panelTitle:l,defaultOpen:a,backgroundColor:n,panelId:r,textColor:c,iconType:d="chevron",iconAnimation:p="rotate",animationSpeed:m="normal",fontSize:g,fontWeight:u="700",lineHeight:h,borderRadius:b="0",borderWidth:f="0",borderColor:v,headerPadding:_,contentPadding:y,hoverBackgroundColor:C,hoverTextColor:w,activeBackgroundColor:x,activeTextColor:E,customClassName:S,enableHashLink:T=!0,focusOnOpen:k=!1,schemaType:A="none",enableAnalytics:O=!1}=e,B=`${r}-heading`,P=`${r}-content`,L=o.useBlockProps.save({className:`tdsc-collapse${a?" is-open":""}${S?` ${S}`:""} ${s(p)}`}),H={"data-animation-speed":m,"data-enable-hash-link":T?"true":"false","data-focus-on-open":k?"true":"false","data-enable-analytics":O?"true":"false","data-panel-id":r},N=c||"#ffffff",$={backgroundColor:n||"var(--wp--preset--color--primary, #222222)",color:N,fontSize:g||void 0,fontWeight:u||void 0,lineHeight:h||void 0,borderRadius:"0"!==b?b:void 0,borderWidth:"0"!==f?f:void 0,borderColor:v||void 0,borderStyle:"0"!==f?"solid":void 0,paddingTop:_?.top||void 0,paddingRight:_?.right||void 0,paddingBottom:_?.bottom||void 0,paddingLeft:_?.left||void 0},I={};C&&(I["--tdsc-hover-bg"]=C),w&&(I["--tdsc-hover-color"]=w),x&&(I["--tdsc-active-bg"]=x),E&&(I["--tdsc-active-color"]=E),"0"!==b&&(I["--tdsc-border-radius"]=b),"0"!==f&&(I["--tdsc-border-width"]=f),v&&(I["--tdsc-border-color"]=v);const R={paddingTop:y?.top||void 0,paddingRight:y?.right||void 0,paddingBottom:y?.bottom||void 0,paddingLeft:y?.left||void 0},W=i(d,a),j={};return"faq"===A?(j.itemScope=!0,j.itemType="https://schema.org/FAQPage"):"howto"===A&&(j.itemScope=!0,j.itemType="https://schema.org/HowTo"),(0,t.createElement)("div",{...L,...H,...j,style:I},(0,t.createElement)("button",{type:"button",className:"tdsc-collapse__toggle","aria-expanded":a,"aria-controls":P,id:B,style:$},(0,t.createElement)("span",{className:"tdsc-collapse__title",style:{color:N}},(0,t.createElement)(o.RichText.Content,{value:l})),(0,t.createElement)("span",{className:W,"aria-hidden":"true",style:{color:N}})),(0,t.createElement)("div",{id:P,role:"region",className:"tdsc-collapse__content","aria-labelledby":B,style:{maxHeight:a?"1000px":void 0,...R}},(0,t.createElement)("div",{className:"tdsc-collapse__inner"},(0,t.createElement)(o.InnerBlocks.Content,null))),"faq"===A&&(0,t.createElement)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"FAQPage",mainEntity:{"@type":"Question",name:l||"Question",acceptedAnswer:{"@type":"Answer",text:""}}})}}))},attributes:r.uK}),window.addEventListener("load",(function(){if(!document.body.classList.contains("block-editor-page"))try{const e=document.querySelectorAll(".tdsc-collapse");if("IntersectionObserver"in window&&e.length>5){const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(u(e.target),t.unobserve(e.target))}))}),{rootMargin:"50px"});e.forEach((e=>{t.observe(e)}))}else e.forEach((e=>{u(e)}));g(),window.addEventListener("hashchange",g)}catch(e){console.error("Error initializing collapse panels:",e)}}))}},o={};function l(e){var a=o[e];if(void 0!==a)return a.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,o,a,n)=>{if(!o){var i=1/0;for(d=0;d<e.length;d++){for(var[o,a,n]=e[d],s=!0,r=0;r<o.length;r++)(!1&n||i>=n)&&Object.keys(l.O).every((e=>l.O[e](o[r])))?o.splice(r--,1):(s=!1,n<i&&(i=n));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,a,n]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,o)=>{var a,n,[i,s,r]=o,c=0;if(i.some((t=>0!==e[t]))){for(a in s)l.o(s,a)&&(l.m[a]=s[a]);if(r)var d=r(l)}for(t&&t(o);c<i.length;c++)n=i[c],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(d)},o=globalThis.webpackChunktomatillo_design_simple_collapse=globalThis.webpackChunktomatillo_design_simple_collapse||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=l.O(void 0,[350],(()=>l(825)));a=l.O(a)})();